\NeedsTeXFormat{LaTeX2e}

%
% Include this package for the pretty version of the thesis.
%
\ProvidesPackage{ThesisPretty}

% load shared defs, set toggle
\RequirePackage{ThesisCommon}
\toggletrue{Pretty}

% section headings
\titleformat*{\section}{\headfont}
\titleformat*{\subsection}{\headfont}

% table of contents
\RequirePackage{afterpage}
\RequirePackage[titles]{tocloft}
\renewcommand{\contentsname}{Table of Contents}
\renewcommand{\cftchapfont}{}
\renewcommand{\cftchappagefont}{}

% chapter heading (adapted from classicthesis.sty)
\newfont{\chapterNumber}{eurb10 scaled 7000}
\assignpagestyle{\chapter}{plain}
\titleformat{\chapter}[display]%
    {\relax\vspace{-2.1\baselineskip}}%
    {\vspace{-2.9\baselineskip}\raggedleft{\color{black!20}\chapterNumber\thechapter}}%
    {0pt}{\vspace*{-1\baselineskip}\raggedright\headcaps}%
    [\normalsize\vspace*{.8\baselineskip}\titlerule]%
\DeclareRobustCommand*{\contheading}[1]{\afterpage{%
  \relax\emptyline\vspace*{-1.3\baselineskip}\newline%
  \raggedright\headcaps{#1\ (cont.)}\newline%
  \normalsize\vspace*{.8\baselineskip}\titlerule%
  \vspace*{1.6\baselineskip}\null}}
\newcommand{\newtocpage}{%
  \addtocontents{toc}{\contheading{Table of Contents}}
  \addtocontents{toc}{\protect\newpage}
}
\newcommand{\newlofpage}{%
  \addtocontents{lof}{\contheading{List of Figures}}
  \addtocontents{lof}{\protect\newpage}
}
